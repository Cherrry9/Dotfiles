#!/usr/bin/env sh
shopt -s globstar dotglob
for file in "$HOME"/Dotfiles/config/**; do
	if [[ -f "$file" && "$file" != */.zgen/* && "$file" != */.config/dmenu/* && "$file" != */bundle/* && "$file" != */wallpaper ]]; then
		options+=("${file#$HOME/Dotfiles/config/}")
	fi
done
choice=$(printf '%s\n' "${options[@]}" | dmenu -i -p 'Edit a config file: ') || exit 1
choice="$HOME"/Dotfiles/config/"$choice"
$TERMINAL -e zsh -c "sleep 0.05 && nvim $choice"
